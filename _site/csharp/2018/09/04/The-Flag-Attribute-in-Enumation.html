<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1 maximum-scale=1; minimum-scale=1; user-scalable=no;"> <meta name="author" content="ChengGu"> <meta name="baseurl" content=""> <title> Suzuka Site|The Flag Attribute in Enumation </title> <!-- favicon --> <link rel="shortcut icon" href="/static/assets/img/favicon.ico"> <!-- Main CSS --> <link href="/static/assets/app-20180125.min.css" rel="stylesheet"> <link href="/static/css/custom.css" rel="stylesheet"> <!-- Main Scripts --> <script src="/static/assets/app-20180125.min.js"></script> <script src="/static/assets/blog-20180125.min.js"></script> <!-- Google AdSense --> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <script> (adsbygoogle = window.adsbygoogle || []).push({ google_ad_client: "ca-pub-6196184668650108", enable_page_level_ads: true }); </script> </head> <body id="page-top" class="landing-page"> <div class="search-tool" style="position: fixed; top: 0px ; bottom: 0px; left: 0px; right: 0px; opacity: 0.95; background-color: #111111; z-index: 9999; display: none;"> <input type="text" class="form-control search-content" id="search-content" style="position: fixed; top: 60px" placeholder="Search Blog"> <div style="position: fixed; top: 16px; right: 16px; z-index: 9999;"> <img src="/static/assets/img/search/cb-close.png" id="close-btn"/> </div> </div> <div style="position: fixed; right: 16px; bottom: 20px; z-index: 9999;"> <img src="/static/assets/img/search/cb-search.png" id="search-btn" title="Double click Ctrl"/> </div> <div class="navbar-wrapper"> <nav class="navbar navbar-default navbar-fixed-top" role="navigation"> <div class="container"> <div class="navbar-header page-scroll"> <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" href="/">Suzuka Site</a> </div> <div id="navbar" class="navbar-collapse collapse"> <ul class="nav navbar-nav navbar-right"> <li><a class="page-scroll" href="blog/"></a></li> <li> <a class="page-scroll" href="/blog/">Blog</a></li> <li> <a class="page-scroll" href="/unity/">Unity</a></li> <li> <a class="page-scroll" href="/ai/">AI</a></li> <li> <a class="page-scroll" href="/cg/">CG</a></li> <li> <a class="page-scroll" href="/math/">Math</a></li> <li> <a class="page-scroll" href="/data structure/">Data Structure</a></li> <li> <a class="page-scroll" href="/csharp/">C#</a></li> <li> <a class="page-scroll" href="/python/">Python</a></li> <li> <a class="page-scroll" href="/javascript/">JavaScript</a></li> <li> <a class="page-scroll" href="/game dev/">Game Dev</a></li> </ul> </div> </div> </nav> </div> <!--<link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css'>--> <!--<link rel="stylesheet" href="static/css/carousel_style.css">--> <!--<script src="static/js/carousel.js"></script>--> <div id="carouselHacked" class="carousel slide carousel-fade" data-ride="carousel"> <div class="carousel-inner" role="listbox"> <div class="item active"> <!-- Set background for slide in css --> <div class="header-back" style="background-image: url(/static/assets/img/landing/header_1.jpg);" title="first banner image"> </div> </div> <div class="item"> <div class="header-back" style="background-image: url(/static/assets/img/landing/header_2.jpg);" title=""> </div> </div> <div class="item"> <div class="header-back" style="background-image: url(/static/assets/img/landing/header_3.jpg);" title="third banner image"> </div> </div> <div class="item"> <div class="header-back" style="background-image: url(/static/assets/img/landing/header_4.jpg);" title="fourth banner image"> </div> </div> <div class="item"> <div class="header-back" style="background-image: url(/static/assets/img/landing/header_5.jpg);" title="fifth banner image"> </div> </div> <div class="item"> <div class="header-back" style="background-image: url(/static/assets/img/landing/header_6.jpg);" title="sixth banner image"> </div> </div> </div> <!-- Controls --> <a class="left carousel-control" href="#carouselHacked" role="button" data-slide="prev"> <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span> <span class="sr-only">Previous</span> </a> <a class="right carousel-control" href="#carouselHacked" role="button" data-slide="next"> <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span> <span class="sr-only">Next</span> </a> </div> <script type="text/x-mathjax-config"> MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']], processEscapes: true } }); </script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script> <div class="wrapper wrapper-content animated fadeInRight article"> <div class="row"> <div class="col-lg-10 col-lg-offset-1"> <div class="ibox"> <div class="ibox-content"> <div class="pull-right"> <a class="btn btn-white btn-xs" href="/csharp">Csharp</a> </div> <div class="text-center article-title"> <span class="text-muted"><i class="fa fa-clock-o"></i> 4 Sep 2018</span> <h1> The Flag Attribute in Enumation </h1> </div> <div class="ibox-postpadding"> <p>The problem with enumation is when you want to use conditional operator in your statement, you have to use bit operator.</p> <p>For example, you can’t use <code class="highlighter-rouge">&amp;&amp;</code> or <code class="highlighter-rouge">||</code> operator, you have to use bit operator such as <code class="highlighter-rouge">&amp;</code> or <code class="highlighter-rouge">|</code>.</p> <blockquote> <p>Bit Operator</p> </blockquote> <table> <tbody> <tr> <td>Operation</td> <td>Description</td> </tr> <tr> <td><code class="highlighter-rouge">a &amp; b</code></td> <td>if a = b = 1, the result is 1, else is 0</td> </tr> <tr> <td><code class="highlighter-rouge">a | b</code></td> <td>if a and b as long as one of them is 1 then result is 1</td> </tr> <tr> <td><code class="highlighter-rouge">~a</code></td> <td>if a = 1, the result = 0; if a = 0, the result = 1</td> </tr> <tr> <td><code class="highlighter-rouge">a ^ b</code></td> <td>Only when a = b, the result is 0; if a != b, the result is 1</td> </tr> </tbody> </table> <hr /> <h4 id="1-normal-way-to-use-enum-in-c">1. Normal way to use enum in C#</h4> <p>if we want to create a new List Type. Ignore all other details, only focus on the iterator. This List will store the values in array, and this list can set the start point of the iteration. For example, we have 5 elements. We can set start index is 2, the iteration order shoule be 2,3,4,0,1.</p> <blockquote> <p>(1) create a enumation</p> </blockquote> <div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="k">public</span> <span class="k">enum</span> <span class="n">PersonType</span>
    <span class="p">{</span>
        <span class="n">Tall</span><span class="p">,</span>  
        <span class="n">Rich</span><span class="p">,</span>   
        <span class="n">Handsome</span><span class="p">,</span>   
        <span class="n">White</span><span class="p">,</span>
        <span class="n">Beauty</span>
    <span class="p">}</span>
</code></pre></div></div> <blockquote> <p>(2) Declare the enum and use switch case to do condition statement:</p> </blockquote> <div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">public</span> <span class="k">static</span> <span class="n">PersonType</span> <span class="n">person</span><span class="p">;</span>
 <span class="p">{</span>
        <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">switch</span> <span class="p">(</span><span class="n">person</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="k">case</span> <span class="n">PersonType</span><span class="p">.</span><span class="n">Tall</span><span class="p">:</span>
                    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"I'm Tall"</span><span class="p">);</span>
                    <span class="k">break</span><span class="p">;</span>
                <span class="k">case</span> <span class="n">PersonType</span><span class="p">.</span><span class="n">Rich</span><span class="p">:</span>
                    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"I'm Rich"</span><span class="p">);</span>
                    <span class="k">break</span><span class="p">;</span>
                <span class="k">case</span> <span class="n">PersonType</span><span class="p">.</span><span class="n">Handsome</span><span class="p">:</span>
                    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"I'm Handsome"</span><span class="p">);</span>
                    <span class="k">break</span><span class="p">;</span>
                <span class="k">case</span> <span class="n">PersonType</span><span class="p">.</span><span class="n">White</span><span class="p">:</span>
                    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"I'm White"</span><span class="p">);</span>
                    <span class="k">break</span><span class="p">;</span>
                <span class="k">case</span> <span class="n">PersonType</span><span class="p">.</span><span class="n">Beauty</span><span class="p">:</span>
                    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"I'm Beauty"</span><span class="p">);</span>
                    <span class="k">break</span><span class="p">;</span>
                <span class="k">default</span><span class="p">:</span>
                    <span class="k">break</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
</code></pre></div></div> <hr /> <h4 id="2-problem">2. Problem</h4> <blockquote> <p>so far, it’s fine. However if you want to have multiply choice such as</p> </blockquote> <div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="k">case</span> <span class="n">PersonType</span><span class="p">.</span><span class="n">White</span> <span class="p">|</span> <span class="n">PersonType</span><span class="p">.</span><span class="n">Beauty</span><span class="p">:</span>
</code></pre></div></div> <blockquote> <p>It is still fine. No error at all. Then we try one more choice:</p> </blockquote> <div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="k">case</span> <span class="n">PersonType</span><span class="p">.</span><span class="n">White</span> <span class="p">|</span> <span class="n">PersonType</span><span class="p">.</span><span class="n">Handsome</span><span class="p">:</span>
</code></pre></div></div> <blockquote style="color: red"> <p>So now you will see an error! Why it will happen?</p> </blockquote> <hr /> <h4 id="3-solution">3. Solution</h4> <blockquote> <p>Because when we create an enum the default value of it is</p> </blockquote> <div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="k">public</span> <span class="k">enum</span> <span class="n">PersonType</span>
    <span class="p">{</span>
        <span class="n">Tall</span> <span class="p">=</span> <span class="m">0</span><span class="p">,</span>       <span class="c1">// 000000</span>
        <span class="n">Rich</span> <span class="p">=</span> <span class="m">1</span><span class="p">,</span>       <span class="c1">// 000001</span>
        <span class="n">Handsome</span> <span class="p">=</span> <span class="m">2</span><span class="p">,</span>   <span class="c1">// 000010   </span>
        <span class="n">White</span> <span class="p">=</span> <span class="m">3</span><span class="p">,</span>      <span class="c1">// 000011</span>
        <span class="n">Beauty</span> <span class="p">=</span> <span class="m">4</span>      <span class="c1">// 000100</span>
    <span class="p">}</span>
</code></pre></div></div> <blockquote style="color: red"> <p>So when the condition is <code class="highlighter-rouge">PersonType.White | PersonType.Beauty</code>, the comparison actually is <code class="highlighter-rouge">000011 | 000100 -&gt; 000111</code>, there is no other duplicated address, so there is no error.</p> </blockquote> <blockquote> <p>However, when it comes to the comparison between <code class="highlighter-rouge">PersonType.White | PersonType.Handsome</code>, which actually is <code class="highlighter-rouge">000011 | 000010 -&gt; 000011</code>. <code class="highlighter-rouge">000011</code> already has another value which is <code class="highlighter-rouge">PersonType.White</code>, so it will give an error.</p> </blockquote> <blockquote> <p>So, how can we solve this problem?</p> </blockquote> <blockquote> <p>The right way is add a <code class="highlighter-rouge">[Flag]</code> Attributes, And Change the value to 2^n, so that they will never meet each other</p> </blockquote> <div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="k">public</span> <span class="k">enum</span> <span class="n">PersonType</span>
    <span class="p">{</span>
        <span class="n">Tall</span> <span class="p">=</span> <span class="m">1</span><span class="p">,</span>       <span class="c1">// 000001</span>
        <span class="n">Rich</span> <span class="p">=</span> <span class="m">2</span><span class="p">,</span>       <span class="c1">// 000010</span>
        <span class="n">Handsome</span> <span class="p">=</span> <span class="m">4</span><span class="p">,</span>   <span class="c1">// 000100   </span>
        <span class="n">White</span> <span class="p">=</span> <span class="m">8</span><span class="p">,</span>      <span class="c1">// 001000</span>
        <span class="n">Beauty</span> <span class="p">=</span> <span class="m">16</span>     <span class="c1">// 010000</span>
    <span class="p">}</span>
    
     <span class="k">public</span> <span class="k">static</span> <span class="n">PersonType</span> <span class="n">person</span><span class="p">;</span>
     <span class="p">{</span>
        <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">switch</span> <span class="p">(</span><span class="n">person</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="k">case</span> <span class="n">PersonType</span><span class="p">.</span><span class="n">Tall</span><span class="p">:</span>
                    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"I'm Tall"</span><span class="p">);</span>
                    <span class="k">break</span><span class="p">;</span>
                <span class="k">case</span> <span class="n">PersonType</span><span class="p">.</span><span class="n">Rich</span><span class="p">:</span>
                    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"I'm Rich"</span><span class="p">);</span>
                    <span class="k">break</span><span class="p">;</span>
                <span class="k">case</span> <span class="n">PersonType</span><span class="p">.</span><span class="n">Handsome</span><span class="p">:</span>
                    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"I'm Handsome"</span><span class="p">);</span>
                    <span class="k">break</span><span class="p">;</span>
                <span class="k">case</span> <span class="n">PersonType</span><span class="p">.</span><span class="n">White</span><span class="p">:</span>
                    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"I'm White"</span><span class="p">);</span>
                    <span class="k">break</span><span class="p">;</span>
                <span class="k">case</span> <span class="n">PersonType</span><span class="p">.</span><span class="n">Beauty</span><span class="p">:</span>
                    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"I'm Beauty"</span><span class="p">);</span>
                    <span class="k">break</span><span class="p">;</span>
                    
                <span class="c1">// 001000 | 010000 -&gt; 011000</span>
                <span class="k">case</span> <span class="n">PersonType</span><span class="p">.</span><span class="n">White</span> <span class="p">|</span> <span class="n">PersonType</span><span class="p">.</span><span class="n">Beauty</span><span class="p">:</span> 
                    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"I'm Beauty or white"</span><span class="p">);</span> 
                    <span class="k">break</span><span class="p">;</span>
                <span class="c1">// 001000 | 000100 -&gt; 001100</span>
                <span class="k">case</span> <span class="n">PersonType</span><span class="p">.</span><span class="n">White</span> <span class="p">|</span> <span class="n">PersonType</span><span class="p">.</span><span class="n">Handsome</span><span class="p">:</span>
                    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"I'm white or handsome"</span><span class="p">);</span>
                    <span class="k">break</span><span class="p">;</span>
                <span class="k">default</span><span class="p">:</span>
                    <span class="k">break</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
</code></pre></div></div> <hr /> <blockquote> <p><strong>End –Cheng Gu</strong></p> </blockquote> </div> <hr> <div class="row"> <div class="col-md-6"> <h5 style="display: inline;">Tags:</h5> <button class="btn btn-white btn-xs" type="button">Csharp</button> </div> <div class="col-md-6"> <div class="small text-right"> <div> </div> </div> </div> </div> <br> <div class="row"> <div class="col-lg-12"> <!-- donate --> <br> <!-- share --> <div class="a2a_kit a2a_kit_size_32 a2a_default_style"> <a class="a2a_dd" href="https://www.addtoany.com/share"></a> <a class="a2a_button_facebook"></a> <a class="a2a_button_twitter"></a> <a class="a2a_button_google_plus"></a> <a class="a2a_button_linkedin"></a> <a class="a2a_button_email"></a> <a class="a2a_button_wechat"></a> <a class="a2a_button_sina_weibo"></a> <a class="a2a_button_pocket"></a> </div> <script> var a2a_config = a2a_config || {}; a2a_config.color_main = "D7E5ED"; a2a_config.color_border = "AECADB"; a2a_config.color_link_text = "333333"; a2a_config.color_link_text_hover = "333333"; </script> <script async src="https://static.addtoany.com/menu/page.js"></script> <br> <!-- comment --> </div> </div> </div> </div> </div> </div> </div> <!-- Google analytics --> <!-- GrowingIO --> </body> </html>

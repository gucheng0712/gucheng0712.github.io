<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1 maximum-scale=1; minimum-scale=1; user-scalable=no;"> <meta name="author" content="ChengGu"> <meta name="baseurl" content=""> <title> Suzuka Site|IComparable and IComparer </title> <!-- favicon --> <link rel="shortcut icon" href="/static/assets/img/favicon.ico"> <!-- Main CSS --> <link href="/static/assets/app-20180125.min.css" rel="stylesheet"> <link href="/static/css/custom.css" rel="stylesheet"> <!-- Main Scripts --> <script src="/static/assets/app-20180125.min.js"></script> <script src="/static/assets/blog-20180125.min.js"></script> <!-- Google AdSense --> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <script> (adsbygoogle = window.adsbygoogle || []).push({ google_ad_client: "ca-pub-6196184668650108", enable_page_level_ads: true }); </script> </head> <body id="page-top" class="landing-page"> <div class="search-tool" style="position: fixed; top: 0px ; bottom: 0px; left: 0px; right: 0px; opacity: 0.95; background-color: #111111; z-index: 9999; display: none;"> <input type="text" class="form-control search-content" id="search-content" style="position: fixed; top: 60px" placeholder="Search Blog"> <div style="position: fixed; top: 16px; right: 16px; z-index: 9999;"> <img src="/static/assets/img/search/cb-close.png" id="close-btn"/> </div> </div> <div style="position: fixed; right: 16px; bottom: 20px; z-index: 9999;"> <img src="/static/assets/img/search/cb-search.png" id="search-btn" title="Double click Ctrl"/> </div> <div class="navbar-wrapper"> <nav class="navbar navbar-default navbar-fixed-top" role="navigation"> <div class="container"> <div class="navbar-header page-scroll"> <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" href="/">Suzuka Site</a> </div> <div id="navbar" class="navbar-collapse collapse"> <ul class="nav navbar-nav navbar-right"> <li><a class="page-scroll" href="blog/"></a></li> <li> <a class="page-scroll" href="/blog/">Blog</a></li> <li> <a class="page-scroll" href="/unity/">Unity</a></li> <li> <a class="page-scroll" href="/ai/">AI</a></li> <li> <a class="page-scroll" href="/cg/">CG</a></li> <li> <a class="page-scroll" href="/math/">Math</a></li> <li> <a class="page-scroll" href="/data structure/">Data Structure</a></li> <li> <a class="page-scroll" href="/csharp/">C#</a></li> <li> <a class="page-scroll" href="/python/">Python</a></li> <li> <a class="page-scroll" href="/javascript/">JavaScript</a></li> <li> <a class="page-scroll" href="/game dev/">Game Dev</a></li> </ul> </div> </div> </nav> </div> <!--<link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css'>--> <!--<link rel="stylesheet" href="static/css/carousel_style.css">--> <!--<script src="static/js/carousel.js"></script>--> <div id="carouselHacked" class="carousel slide carousel-fade" data-ride="carousel"> <div class="carousel-inner" role="listbox"> <div class="item active"> <!-- Set background for slide in css --> <div class="header-back" style="background-image: url(/static/assets/img/landing/header_1.jpg);" title="first banner image"> </div> </div> <div class="item"> <div class="header-back" style="background-image: url(/static/assets/img/landing/header_2.jpg);" title=""> </div> </div> <div class="item"> <div class="header-back" style="background-image: url(/static/assets/img/landing/header_3.jpg);" title="third banner image"> </div> </div> <div class="item"> <div class="header-back" style="background-image: url(/static/assets/img/landing/header_4.jpg);" title="fourth banner image"> </div> </div> <div class="item"> <div class="header-back" style="background-image: url(/static/assets/img/landing/header_5.jpg);" title="fifth banner image"> </div> </div> <div class="item"> <div class="header-back" style="background-image: url(/static/assets/img/landing/header_6.jpg);" title="sixth banner image"> </div> </div> </div> <!-- Controls --> <a class="left carousel-control" href="#carouselHacked" role="button" data-slide="prev"> <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span> <span class="sr-only">Previous</span> </a> <a class="right carousel-control" href="#carouselHacked" role="button" data-slide="next"> <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span> <span class="sr-only">Next</span> </a> </div> <div class="wrapper wrapper-content animated fadeInRight article"> <div class="row"> <div class="col-lg-10 col-lg-offset-1"> <div class="ibox"> <div class="ibox-content"> <div class="pull-right"> <a class="btn btn-white btn-xs" href="/csharp">Csharp</a> </div> <div class="text-center article-title"> <span class="text-muted"><i class="fa fa-clock-o"></i> 30 Sep 2018</span> <h1> IComparable and IComparer </h1> </div> <p>In Collection class, when we are going to use simple Sort() function in a List, the base types all provide default comparison algorithms, such as string that provides the alphabetic comparisions and int that provides integer comparisions.</p> <p>However, when we create our own class. If we want to sort the certain variable in the object list, the class need to implement the IComparable Interface.</p> <hr /> <h4 id="1-sorting-integer-and-string-lists">1. Sorting Integer and String Lists</h4> <p>If the elements inside the list are strings, it will sort by the first letter of the string:</p> <blockquote> <p>Code:</p> </blockquote> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   	List&lt;string&gt; strList = new List&lt;string&gt;() { "Tom", "Jerry", "Joab", "Edi", "Kane", "Hans" };
       strList.Sort();
       strList.ForEach(Console.WriteLine);
</code></pre></div></div> <blockquote> <p>Output:</p> </blockquote> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    Edi
    Hans
    Jerry
    Joab
    Kane
    Tom
</code></pre></div></div> <p>If the elements inside the list are integers, it will sort by the integer from small to big:</p> <blockquote> <p>Code:</p> </blockquote> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    List&lt;int&gt; nums = new List&lt;int&gt;() { 2, 33, 22, 1, 5, 8 };
    nums.Sort();
    nums.ForEach(Console.WriteLine);
</code></pre></div></div> <blockquote> <p>Output:</p> </blockquote> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    1
    2
    5
    8
    22
    33
</code></pre></div></div> <p>However, if you create a <code class="highlighter-rouge">Human</code> class, and declare a variable called Name, you want to sort the Human by name, it will give you an error after you using <code class="highlighter-rouge">Sort()</code> function, if you didn’t implement the <code class="highlighter-rouge">IComparable</code> Interface in the <code class="highlighter-rouge">Human</code> class.</p> <blockquote> <p>Code:</p> </blockquote> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    class Human
    {
        public string Name { get; set; }
        public int Age { get; set; }

        public Human(string name, int age)
        {
            Name = name;
            Age = age;
        }
    }
    --------------------
    public static void Main(string[] args)
    {
        List&lt;Human&gt; human = new List&lt;Human&gt;()
        {
            new Human("Tom",22),
            new Human("Jerry",12),
            new Human("Joab",18),
            new Human("Kyroll",11),
            new Human("Cheng Gu",19)
        };

        human.Sort();
        human.ForEach(Console.WriteLine);
    }
</code></pre></div></div> <blockquote> <p>Output:</p> </blockquote> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>System.Collections.Generic.ArraySortHelper&lt;Human&gt;.Sort(Human[] keys, int index, int length, System.Collections.Generic.ObjectComparer&lt;Human&gt; comparer) in /Users/builder/jenkins/workspace/build-package-osx-mono/2018-02/external/bockbuild/builds/mono-x64/external/corert/src/System.Private.CoreLib/src/System/Collections/Generic/ArraySortHelper.cs:66
</code></pre></div></div> <hr /> <h4 id="2-icomparable">2. IComparable</h4> <p>So Only if you implement the <code class="highlighter-rouge">IComparable</code> Interface</p> <blockquote> <p>So, lets sort Human by name Code:</p> </blockquote> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    class Human : IComparable&lt;Human&gt;
    {
        public string Name { get; set; }
        public int Age { get; set; }

        public Human(string name, int age)
        {
            Name = name;
            Age = age;
        }

        public int CompareTo(Human other)
        {
            if (Age &gt; other.Age) { return 1; }
            else if (Age &lt; other.Age) { return -1; }
            else { return 0; }

            /* 
             * Below is the default CompareTo() which does the same thing as above, 
             * used here to better illustrate how the comparator works.
             */
            // return Age.CompareTo(other.Age);
        }

        public override string ToString()
        {
            return Name + " " + Age;
        }
    }
    ----------------
    public static void Main(string[] args)
    {
        List&lt;Human&gt; human = new List&lt;Human&gt;()
        {
            new Human("Tom",22),
            new Human("Jerry",12),
            new Human("Joab",18),
            new Human("Kyroll",11),
            new Human("Cheng Gu",19)
        };
        human.Sort();
        human.ForEach(Console.WriteLine);
    }
    
</code></pre></div></div> <blockquote> <p>Output:</p> </blockquote> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    Kyroll 11
    Jerry 12
    Joab 18
    Cheng Gu 19
    Tom 22
</code></pre></div></div> <hr /> <h4 id="3-icomparator">3. IComparator</h4> <p>Now, The <code class="highlighter-rouge">IComparable</code> Interface solved the sorting error. There is another question pop up. What if you don’t want to Sort by age, you want to sort by human’s name, so you can use IComparer to implement a custom comparator.</p> <blockquote> <p>Code:</p> </blockquote> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    class Human : IComparable&lt;Human&gt;
    {
        public string Name { get; set; }
        public int Age { get; set; }

        public Human(string name, int age)
        {
            Name = name;
            Age = age;
        }

        public int CompareTo(Human other)
        {
            if (Age &gt; other.Age) { return 1; }
            else if (Age &lt; other.Age) { return -1; }
            else { return 0; }

            /* 
             * Below is the default CompareTo() which does the same thing as above, 
             * used here to better illustrate how the comparator works.
             */
            // return Age.CompareTo(other.Age);
        }

        public override string ToString()
        {
            return Name + " " + Age;
        }

    }
    ----------
    class HumanNameComparer : IComparer&lt;Human&gt;
    {
        public int Compare(Human x, Human y)
        {
            return x.Name.CompareTo(y.Name);
        }
    }
    ----------
    class MainClass
    {
        public static void Main(string[] args)
        {
            List&lt;Human&gt; human = new List&lt;Human&gt;()
            {
                new Human("Tom",22),
                new Human("Jerry",12),
                new Human("Joab",18),
                new Human("Kyroll",11),
                new Human("Cheng Gu",19)
            };
            human.Sort(new HumanNameComparer());
            human.ForEach(Console.WriteLine);
</code></pre></div></div> <blockquote> <p>Output:</p> </blockquote> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    Cheng Gu 19
    Jerry 12
    Joab 18
    Kyroll 11
    Tom 22
</code></pre></div></div> <hr /> <blockquote> <p><strong>End –Cheng Gu</strong></p> </blockquote> <hr> <div class="row"> <div class="col-md-6"> <h5 style="display: inline;">Tags:</h5> <button class="btn btn-white btn-xs" type="button">Csharp</button> </div> <div class="col-md-6"> <div class="small text-right"> <div> </div> </div> </div> </div> <br> <div class="row"> <div class="col-lg-12"> <!-- donate --> <br> <!-- share --> <div class="a2a_kit a2a_kit_size_32 a2a_default_style"> <a class="a2a_dd" href="https://www.addtoany.com/share"></a> <a class="a2a_button_facebook"></a> <a class="a2a_button_twitter"></a> <a class="a2a_button_google_plus"></a> <a class="a2a_button_linkedin"></a> <a class="a2a_button_email"></a> <a class="a2a_button_wechat"></a> <a class="a2a_button_sina_weibo"></a> <a class="a2a_button_pocket"></a> </div> <script> var a2a_config = a2a_config || {}; a2a_config.color_main = "D7E5ED"; a2a_config.color_border = "AECADB"; a2a_config.color_link_text = "333333"; a2a_config.color_link_text_hover = "333333"; </script> <script async src="https://static.addtoany.com/menu/page.js"></script> <br> <!-- comment --> </div> </div> </div> </div> </div> </div> </div> <!-- Google analytics --> <!-- GrowingIO --> </body> </html>

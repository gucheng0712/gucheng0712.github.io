<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1 maximum-scale=1; minimum-scale=1; user-scalable=no;"> <meta name="author" content="ChengGu"> <meta name="baseurl" content=""> <title> Suzuka Site|Rendering Pipeline (CG) </title> <!-- favicon --> <link rel="shortcut icon" href="/static/assets/img/favicon.ico"> <!-- Main CSS --> <link href="/static/assets/app-20180125.min.css" rel="stylesheet"> <link href="/static/css/custom.css" rel="stylesheet"> <!-- Main Scripts --> <script src="/static/assets/app-20180125.min.js"></script> <script src="/static/assets/blog-20180125.min.js"></script> <!-- Google AdSense --> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <script> (adsbygoogle = window.adsbygoogle || []).push({ google_ad_client: "ca-pub-6196184668650108", enable_page_level_ads: true }); </script> </head> <body id="page-top" class="landing-page"> <div class="search-tool" style="position: fixed; top: 0px ; bottom: 0px; left: 0px; right: 0px; opacity: 0.95; background-color: #111111; z-index: 9999; display: none;"> <input type="text" class="form-control search-content" id="search-content" style="position: fixed; top: 60px" placeholder="Search Blog"> <div style="position: fixed; top: 16px; right: 16px; z-index: 9999;"> <img src="/static/assets/img/search/cb-close.png" id="close-btn"/> </div> </div> <div style="position: fixed; right: 16px; bottom: 20px; z-index: 9999;"> <img src="/static/assets/img/search/cb-search.png" id="search-btn" title="Double click Ctrl"/> </div> <div class="navbar-wrapper"> <nav class="navbar navbar-default navbar-fixed-top" role="navigation"> <div class="container"> <div class="navbar-header page-scroll"> <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" href="/">Suzuka Site</a> </div> <div id="navbar" class="navbar-collapse collapse"> <ul class="nav navbar-nav navbar-right"> <li><a class="page-scroll" href="blog/"></a></li> <li> <a class="page-scroll" href="/blog/">Blog</a></li> <li> <a class="page-scroll" href="/unity/">Unity</a></li> <li> <a class="page-scroll" href="/ai/">AI</a></li> <li> <a class="page-scroll" href="/cg/">CG</a></li> <li> <a class="page-scroll" href="/math/">Math</a></li> <li> <a class="page-scroll" href="/data structure/">Data Structure</a></li> <li> <a class="page-scroll" href="/csharp/">C#</a></li> <li> <a class="page-scroll" href="/python/">Python</a></li> <li> <a class="page-scroll" href="/javascript/">JavaScript</a></li> <li> <a class="page-scroll" href="/game dev/">Game Dev</a></li> </ul> </div> </div> </nav> </div> <!--<link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css'>--> <!--<link rel="stylesheet" href="static/css/carousel_style.css">--> <!--<script src="static/js/carousel.js"></script>--> <div id="carouselHacked" class="carousel slide carousel-fade" data-ride="carousel"> <div class="carousel-inner" role="listbox"> <div class="item active"> <!-- Set background for slide in css --> <div class="header-back" style="background-image: url(/static/assets/img/landing/header_1.jpg);" title="first banner image"> </div> </div> <div class="item"> <div class="header-back" style="background-image: url(/static/assets/img/landing/header_2.jpg);" title=""> </div> </div> <div class="item"> <div class="header-back" style="background-image: url(/static/assets/img/landing/header_3.jpg);" title="third banner image"> </div> </div> <div class="item"> <div class="header-back" style="background-image: url(/static/assets/img/landing/header_4.jpg);" title="fourth banner image"> </div> </div> <div class="item"> <div class="header-back" style="background-image: url(/static/assets/img/landing/header_5.jpg);" title="fifth banner image"> </div> </div> <div class="item"> <div class="header-back" style="background-image: url(/static/assets/img/landing/header_6.jpg);" title="sixth banner image"> </div> </div> </div> <!-- Controls --> <a class="left carousel-control" href="#carouselHacked" role="button" data-slide="prev"> <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span> <span class="sr-only">Previous</span> </a> <a class="right carousel-control" href="#carouselHacked" role="button" data-slide="next"> <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span> <span class="sr-only">Next</span> </a> </div> <script type="text/x-mathjax-config"> MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']], processEscapes: true } }); </script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script> <div class="wrapper wrapper-content animated fadeInRight article"> <div class="row"> <div class="col-lg-10 col-lg-offset-1"> <div class="ibox"> <div class="ibox-content"> <div class="pull-right"> <a class="btn btn-white btn-xs" href="/cg">Cg</a> </div> <div class="text-center article-title"> <span class="text-muted"><i class="fa fa-clock-o"></i> 14 Sep 2018</span> <h1> Rendering Pipeline (CG) </h1> </div> <p>The pipeline of Graphic Rendering includes 3 stages: Application Stage –&gt; Geometry Stage –&gt; Rasterization Stage.</p> <p align="center"> <img src="/static/assets/img/blog/RenderingPipeline.png" width="50%" /> </p> <hr /> <h4 id="1-application-stage">1. Application Stage</h4> <p>The start point of the rendering pipeline is CPU. In the Application Stage, the most important output is the geometry infomation which need to be rendered, called <strong><em>Rendering Primitives.</em></strong></p> <blockquote> <p>In this Stage, the developer has 3 Tasks:</p> </blockquote> <ol> <li> <p>prepare the environment and camera’s position. how many models are used in the environment, and which kinds of light sources are used in the scene.</p> </li> <li> <p>In order to improve the performance of rendering, need to do the work of <strong><em>Culling</em></strong>, to get rid of unnecessary rendering process.</p> </li> <li> <p>Need to set up the rendering state of each model, such as the materials , textures, shaders.</p> </li> <li> <p>CPU will call <strong><em>DrawCall()</em></strong> to make GPU draw stuff on screen.</p> </li> </ol> <blockquote> <p>For example.</p> </blockquote> <p align="center"> <img src="/static/assets/img/blog/applicationStage.png" width="50%" /> </p> <hr /> <h4 id="2-geometry-stage">2. Geometry Stage</h4> <p>In Geometry Stage, the GPU will do the vertex operation through the received vertex data from the CPU.</p> <p align="center"> <img src="/static/assets/img/blog/GeometryStage.png" width="70%" /> </p> <blockquote> <p>The Process:</p> </blockquote> <ol> <li> <p>Vertex Shader: programmable , it is usually used to implement vertex space transformation, vertex shading and other functions.</p> </li> <li> <p>Tesselation Shader: An optional shader for subdividing primitives (primitives are the basic units that make up an image, such as points, lines, surfaces, etc.).</p> </li> <li> <p>Geometry Shader: An optional shader for polygon shading operations.</p> </li> <li> <p>Clipping: this phase is configurable. The goal of this phase is to trim away the vertices that are not in the camera’s field of view and to remove the facets of certain trig elements.</p> </li> <li> <p>Screen Mapping: This stage is not configurable and is not programmatic; it is responsible for converting the coordinates of each pixel to the screen coordinate system.</p> </li> </ol> <blockquote> <p>Meaning of_MVP (Model View Projection):</p> </blockquote> <p>The <strong><em>vertices</em></strong> of a model are stored in the <strong><em>Object Space</em></strong>. The <strong><em>position</em></strong> and the <strong><em>orientation</em></strong> of each model are stored in world space.</p> <p>Before an object can be rendered, its vertices must be transformed into the <strong><em>Camera Space</em></strong> (also called View Space).</p> <p>It is possible to transform vertices from object space directly into camera space by concatenating the matrices representing the transformations from object space to world space and from world space to camera space. The product of these transformations is called the <strong><em>Model-View Trasnformation</em></strong>. Once a model’s vertices have been transformed into camera space, they will also do a projection transformation to apply <strong><em>Perspective</em></strong> (the geometry becomes smaller as the distance from the camera increases).</p> <hr /> <h4 id="3-rasterization-stage">3. Rasterization Stage</h4> <p>In this stage, will use the data passed in the previous stage(Geometry stage) to produce pixels on the screen and render the final image.</p> <p align="center"> <img src="/static/assets/img/blog/RasterizationStage.png" width="70%" /> </p> <blockquote> <p>The Process:</p> </blockquote> <p>1) <strong><em>Triangle Setup</em></strong>: Differences in triangular surfaces and other relevant data are calculated. Fixed hardware operations to complete.</p> <p>2) <strong><em>Triangle Traversal</em></strong>: This stage checks whether each pixel is inside a triangle, and fragment is generated at this stage. Interpolation is usually used.</p> <p>3) <strong><em>Fragment Shader</em></strong>: Fully programmable. Use interpolated shading data as input and output one or more color values for the next phase. At this stage, GPU execution can be controlled by programming. The most commonly used technology in this stage is texture technology.</p> <p>4) <strong><em>Per-Fragment Operation</em></strong>: The Color value for each pixel is stored in the Color Buffer and merged at this stage. This stage is not completely programmable, but can be configured to produce different effects. In detail includes:</p> <blockquote> <p>a) <strong><em>The pixel ownership</em></strong> (the only one cannot be disabled): it simply determines whether a fragment lies in the region of the viewport that is currently visible on the display.</p> </blockquote> <blockquote> <p>b) <strong><em>Scissor Test</em></strong>: An application may specify a rectangle in the viewport, called the scissor rectangle, to which rendering should be restricted. Any fragments falling outside the scissor rectangle are discarded.</p> </blockquote> <blockquote> <p>c) <strong><em>Alpha Test</em></strong>: When the final color of a fragment is calculated, an application may also calculate an alpha value that usually represents the degree of transparency associated with the fragment. The alpha test compares the final alpha value of a fragment to a constant value that is preset by the application. The application can specifies what relationship between the two values (such as less than, greater than, or equal to) causes the test to pass. If the relationship is not satisfied, then the fragment is discarded.</p> </blockquote> <blockquote> <p>d) <strong><em>Stencil Test</em></strong>: The stencil test reads the value stored in the stencil buffer at a fragment’s location and compares it to a value previously specified by the application. The stencil test passes only if a specific relationship is satisfied (e.g., the stencil value is equal to a particular value); otherwise, the stencil test fails, and the fragment is discarded.</p> </blockquote> <blockquote> <p>e) <strong><em>Depth Test</em></strong>: The depth Test compares the final depth associated with a fragment to the value currently residing in the depth buffer.</p> </blockquote> <blockquote> <p>f) <strong><em>Blending</em></strong>: Once the pixel ownership test, scissor test, alpha test, stencil test, and depth test have all passed, a fragment’s final color is blended into the <strong><em>image buffer</em></strong>. The blending operation calculates a new color by combining the fragment’s final color and the color already stored in the image buffer at the fragment’s location. The fragment’s alpha value and the alpha value stored in the image buffer may also be used to determine the color that ultimately appears in the viewport. The blending operation may be configured to simply replace the previous color in the image buffer, or it may produce special visual effects such as transparency.</p> </blockquote> <hr /> <blockquote> <p><strong>End –Cheng Gu</strong></p> </blockquote> <hr> <div class="row"> <div class="col-md-6"> <h5 style="display: inline;">Tags:</h5> <button class="btn btn-white btn-xs" type="button">CG</button> </div> <div class="col-md-6"> <div class="small text-right"> <div> </div> </div> </div> </div> <br> <div class="row"> <div class="col-lg-12"> <!-- donate --> <br> <!-- share --> <div class="a2a_kit a2a_kit_size_32 a2a_default_style"> <a class="a2a_dd" href="https://www.addtoany.com/share"></a> <a class="a2a_button_facebook"></a> <a class="a2a_button_twitter"></a> <a class="a2a_button_google_plus"></a> <a class="a2a_button_linkedin"></a> <a class="a2a_button_email"></a> <a class="a2a_button_wechat"></a> <a class="a2a_button_sina_weibo"></a> <a class="a2a_button_pocket"></a> </div> <script> var a2a_config = a2a_config || {}; a2a_config.color_main = "D7E5ED"; a2a_config.color_border = "AECADB"; a2a_config.color_link_text = "333333"; a2a_config.color_link_text_hover = "333333"; </script> <script async src="https://static.addtoany.com/menu/page.js"></script> <br> <!-- comment --> </div> </div> </div> </div> </div> </div> </div> <!-- Google analytics --> <!-- GrowingIO --> </body> </html>

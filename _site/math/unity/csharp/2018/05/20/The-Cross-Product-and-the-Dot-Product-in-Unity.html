<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1 maximum-scale=1; minimum-scale=1; user-scalable=no;"> <meta name="author" content="ChengGu"> <meta name="baseurl" content=""> <title> Suzuka Site|Cross Or Dot </title> <!-- favicon --> <link rel="shortcut icon" href="/static/assets/img/favicon.ico"> <!-- Main CSS --> <link href="/static/assets/app-20180125.min.css" rel="stylesheet"> <link href="/static/css/custom.css" rel="stylesheet"> <!-- Main Scripts --> <script src="/static/assets/app-20180125.min.js"></script> <script src="/static/assets/blog-20180125.min.js"></script> <!-- Google AdSense --> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <script> (adsbygoogle = window.adsbygoogle || []).push({ google_ad_client: "ca-pub-6196184668650108", enable_page_level_ads: true }); </script> </head> <body id="page-top" class="landing-page"> <div class="search-tool" style="position: fixed; top: 0px ; bottom: 0px; left: 0px; right: 0px; opacity: 0.95; background-color: #111111; z-index: 9999; display: none;"> <input type="text" class="form-control search-content" id="search-content" style="position: fixed; top: 60px" placeholder="Search Blog"> <div style="position: fixed; top: 16px; right: 16px; z-index: 9999;"> <img src="/static/assets/img/search/cb-close.png" id="close-btn"/> </div> </div> <div style="position: fixed; right: 16px; bottom: 20px; z-index: 9999;"> <img src="/static/assets/img/search/cb-search.png" id="search-btn" title="Double click Ctrl"/> </div> <div class="navbar-wrapper"> <nav class="navbar navbar-default navbar-fixed-top" role="navigation"> <div class="container"> <div class="navbar-header page-scroll"> <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" href="/">Suzuka Site</a> </div> <div id="navbar" class="navbar-collapse collapse"> <ul class="nav navbar-nav navbar-right"> <li><a class="page-scroll" href="blog/"></a></li> <li> <a class="page-scroll" href="/blog/">Blog</a></li> <li> <a class="page-scroll" href="/unity/">Unity</a></li> <li> <a class="page-scroll" href="/ai/">AI</a></li> <li> <a class="page-scroll" href="/cg/">CG</a></li> <li> <a class="page-scroll" href="/math/">Math</a></li> <li> <a class="page-scroll" href="/data structure/">Data Structure</a></li> <li> <a class="page-scroll" href="/csharp/">C#</a></li> <li> <a class="page-scroll" href="/python/">Python</a></li> <li> <a class="page-scroll" href="/javascript/">JavaScript</a></li> <li> <a class="page-scroll" href="/game dev/">Game Dev</a></li> </ul> </div> </div> </nav> </div> <!--<link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css'>--> <!--<link rel="stylesheet" href="static/css/carousel_style.css">--> <!--<script src="static/js/carousel.js"></script>--> <div id="carouselHacked" class="carousel slide carousel-fade" data-ride="carousel"> <div class="carousel-inner" role="listbox"> <div class="item active"> <!-- Set background for slide in css --> <div class="header-back" style="background-image: url(/static/assets/img/landing/header_1.jpg);" title="first banner image"> </div> </div> <div class="item"> <div class="header-back" style="background-image: url(/static/assets/img/landing/header_2.jpg);" title=""> </div> </div> <div class="item"> <div class="header-back" style="background-image: url(/static/assets/img/landing/header_3.jpg);" title="third banner image"> </div> </div> <div class="item"> <div class="header-back" style="background-image: url(/static/assets/img/landing/header_4.jpg);" title="fourth banner image"> </div> </div> <div class="item"> <div class="header-back" style="background-image: url(/static/assets/img/landing/header_5.jpg);" title="fifth banner image"> </div> </div> <div class="item"> <div class="header-back" style="background-image: url(/static/assets/img/landing/header_6.jpg);" title="sixth banner image"> </div> </div> </div> <!-- Controls --> <a class="left carousel-control" href="#carouselHacked" role="button" data-slide="prev"> <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span> <span class="sr-only">Previous</span> </a> <a class="right carousel-control" href="#carouselHacked" role="button" data-slide="next"> <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span> <span class="sr-only">Next</span> </a> </div> <script type="text/x-mathjax-config"> MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']], processEscapes: true } }); </script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script> <div class="wrapper wrapper-content animated fadeInRight article"> <div class="row"> <div class="col-lg-10 col-lg-offset-1"> <div class="ibox"> <div class="ibox-content"> <div class="pull-right"> <a class="btn btn-white btn-xs" href="/math">Math</a> <a class="btn btn-white btn-xs" href="/unity">Unity</a> <a class="btn btn-white btn-xs" href="/csharp">Csharp</a> </div> <div class="text-center article-title"> <span class="text-muted"><i class="fa fa-clock-o"></i> 20 May 2018</span> <h1> Cross Or Dot </h1> </div> <p>The Cross Product and the Dot Product are the most common calculations of Vector. In the Game Development, it is necessary to understand both of them. The biggest difference between them is that:</p> <blockquote> <p>The result of <strong>dot product</strong> is a <strong>value</strong> The result of <strong>cross product</strong> is a <strong>vector</strong></p> </blockquote> <hr /> <h2 id="1-dot-product"><strong>1. Dot Product</strong></h2> <p>The dot product of two n-dimensional vectors A and B, written as A ⋅ B, is the scalar quantity given by the formula:</p> <script type="math/tex; mode=display">\Huge A\cdot B = \sum_{i=1}^{n}{A_i}{B_i}</script> <p>eg:</p> <blockquote> <p><strong>if:</strong><br /> <script type="math/tex">\large \qquad Vector3\:\: v_1 = (x_1,y_1,z_1), Vector3\:\: v_2 = (x_2,y_2,z_2)</script></p> </blockquote> <blockquote> <p><strong>then:</strong><br /> <script type="math/tex">\large \qquad v_1 \cdot v_2 = {x_1}{x_2}+{y_1}{y_2}+{z_1}{z_2}</script></p> </blockquote> <blockquote> <p>Follow the law of trig it can write as:<br /> <script type="math/tex">\large \qquad A\cdot B = \|A\|\|B\| cos\theta</script></p> </blockquote> <blockquote> <p>Follow up, it also can write as:<br /> <script type="math/tex">\large\qquad\theta = acos (\frac{A\cdot B}{\|A\|\|B\| })</script></p> </blockquote> <p>Dot Product also can calculate the <strong>projection</strong> of a vector by giving A and B vectors. Basic trigonometry tells us that the length of the side adjacent to $\theta$ is given by <script type="math/tex">\|B\| cos\theta</script>. Shown as below image:</p> <p align="center"> <img src="/static/assets/img/blog/proj_ab.png" width="30%" /> </p> <p>The length of the projection of the <strong>Vector A onto the Vector B</strong> is given by <script type="math/tex">\large\frac{A⋅B}{\|B\|}</script>, because <script type="math/tex">A⋅B = \|A\| \|B\| cos\theta</script>.</p> <p>Therefore, in order to get the Vector of with this length, we can just multiply by the <strong>unit vector of B</strong>, which is <script type="math/tex">\Large\frac{B}{\|B\|}</script>, we can get the following formula:</p> <script type="math/tex; mode=display">\Large proj_BA = \frac{A\cdot B}{\|B\|^2}B</script> <p>The position relation of two vectors can be determined by the sign of the dot product of these two vector.</p> <ol> <li>If the dot product = 0, these two vectors are perpendicular. Two Vector point <strong>mostly same direction</strong>.</li> <li>If the dot product &lt;0, the angle between two Vector is 90 ~ 180. Two Vector <strong>perpendicular</strong>.</li> <li>If the dot product &gt;0, the angle between two Vector is 0 ~ 90. Two Vector point <strong>mostly opposite direction</strong>.</li> </ol> <p>The dot product A ⋅ B may also be expressed as the <strong>matrix product</strong></p> <p>\begin{equation} A_T B = \begin{bmatrix}A_1 &amp; A_2 &amp; \cdots &amp; A_n\end{bmatrix} \begin{bmatrix}B_1 \\ B_2 \\ \vdots \\ B_n\end{bmatrix} \end{equation}</p> <p><br /><br /></p> <h4 id="example-in-game-development"><strong><em>Example in Game Development:</em></strong></h4> <p>(1) Get the Angle of two vectors: range [0, 180], whether the view of the game monster can be viewed to the player, and can be used to calculate whether the enemy is within the range of the character’s attack.</p> <div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Vector</span> <span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">dotValue</span> <span class="p">=</span> <span class="n">Vector3</span><span class="p">.</span><span class="nf">Dot</span> <span class="p">(</span><span class="n">A</span><span class="p">.</span><span class="n">normalized</span><span class="p">,</span> <span class="n">B</span><span class="p">.</span><span class="n">normalized</span><span class="p">);</span>
<span class="kt">float</span> <span class="n">angle</span> <span class="p">=</span> <span class="n">Mathf</span><span class="p">.</span><span class="nf">Acos</span><span class="p">(</span><span class="n">dotValue</span><span class="p">)</span> <span class="p">*</span> <span class="n">Mathf</span><span class="p">.</span><span class="n">Rad2Deg</span><span class="p">;</span>  
<span class="c1">//However. there is a easier way to do it in unity by using Vector.Angle().</span>
<span class="c1">//float angle= Vector3.Angle (Vector3 from, Vector3 to) </span>
</code></pre></div></div> <p>(2) Determine if the target is in front of you, or behind you.</p> <div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">float</span> <span class="n">dotValue</span><span class="p">=</span><span class="n">Vector3</span><span class="p">.</span><span class="nf">Dot</span><span class="p">(</span><span class="n">transform</span><span class="p">.</span><span class="n">forward</span><span class="p">,</span> <span class="n">target</span><span class="p">.</span><span class="n">position</span><span class="p">)</span>
<span class="k">if</span><span class="p">(</span><span class="n">dotValue</span><span class="p">&gt;</span><span class="m">0</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"Target is in front of you"</span><span class="p">);</span>
<span class="p">}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">dotValue</span><span class="p">&lt;</span><span class="m">0</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"Target is behind you"</span><span class="p">);</span>
<span class="p">}</span><span class="k">else</span><span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"Target is on the left or right."</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div> <p>(3) Simulate the flight status of the aircraft</p> <div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">float</span> <span class="n">dotValue</span> <span class="p">=</span> <span class="n">Vector3</span><span class="p">.</span><span class="nf">Dot</span><span class="p">(</span><span class="n">transform</span><span class="p">.</span><span class="n">forward</span><span class="p">,</span> <span class="n">Vector3</span><span class="p">.</span><span class="n">up</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">dotValue</span> <span class="p">&lt;</span> <span class="m">0</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"This plane is flying down"</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">dotValue</span> <span class="p">&gt;</span> <span class="m">0</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"This plane is flying up"</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"This plane is flying in parallel "</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div> <hr /> <h2 id="2-cross-product"><strong>2. Cross Product</strong></h2> <p>The cross product of two three-dimensional vectors, returns a new vector that is perpendicular to both of the vectors being multiplied together. This property has many uses in computer graphics, one of which is a method for calculating a surface normal at a particular point given two distinct tangent vectors.</p> <p>The cross product of two 3D vectors A and B, written as A × B, is a vector quantity given by the formula:</p> <script type="math/tex; mode=display">\large A×B = (A_yB_z−A_zB_y, A_zB_x−A_xB_z, A_xB_y−A_yB_x)</script> <p>This equation seems no regularity, but it has, shown as below:</p> <p align="center"> <img src="/static/assets/img/blog/Cross.jpg" width="50%" /> </p> <blockquote> <p>Follow the law of trig it can write as:<br /> <script type="math/tex">\large \qquad \|A×B\|=\|A\|\|B\|sin\theta</script></p> </blockquote> <blockquote> <p>Follow up, it also can write as:<br /> <script type="math/tex">\large \qquad \theta = asin (\frac{\|A×B\|}{\|A\|\|B\| })</script></p> </blockquote> <p>The cross product of two vectors, the result of the cross product is a vector instead of a value. Also, the cross product of two vectors is <strong><em>perpendicular</em></strong> to the coordinate plane of these two vectors.</p> <blockquote> <p>In Math, it satisfy right hand rule, a x b = -b x a. So we can use the result of Cross product’s value is positive or negative to determine a and b’s relative position.</p> </blockquote> <p align="center"> <img src="/static/assets/img/blog/right-hand.png" width="20%" /><br /> <b>Right-hand Cooridinate System</b> </p> <p align="center"> <img src="/static/assets/img/blog/left-hand.jpg" width="20%" /><br /> <b>Left-hand Cooridinate System**</b> </p> <p align="center"> <img src="/static/assets/img/blog/Cross2.jpg" width="20%" /><br /> <b>Normal vector of a plane is the Cross Product of the coordinate plane of x and y vectors.**</b> </p> <p><br /><br /></p> <h4 id="example-in-game-development-1"><strong><em>Example in Game Development:</em></strong></h4> <p>(1) WallWalking:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; The core is to use cross product cauculate the normal of wall's plane, and ground plane's normal to implement into player's Up direction
</code></pre></div></div> <p>(2) Determine the target is on your right or left:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; if return a negative value, the target is on the left,
if return a positive value, the target is on the right,
if return 0, the the target is on the front side or back side
</code></pre></div></div> <p><code class="highlighter-rouge">Vector3.Cross(transform.forward, target.position).y</code></p> <p>(3) Get the area size of a parallelogram which formed by 2 objects</p> <blockquote> <p><code class="highlighter-rouge">S = |b| * |a| * sin(θ)</code></p> </blockquote> <p>(4) Get the angle between two vectors</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Vector3 a, b;
float value = Vector3.Cross(a.normalized, b.normalized);
float angle = Mathf.Asin(value) * Mathf.Rad2Deg;
</code></pre></div></div> <p>(5) Can Determine if two vector is <strong>Parallel</strong> or <strong>Intersecting</strong>.</p> <hr /> <p>In conclusion, <strong><em>Dot Product</em></strong> determine the angle of two Vectors, <strong><em>Cross Product</em></strong> determine the direction of two Vectors.</p> <p>For instance, when an enemy behind you, <strong><em>Cross Product</em></strong> determine whether you should turn left or turn right to face to the enemy quickly; the <strong><em>Dot Product</em></strong> can get the angle size you need to turn towards the enemy.</p> <hr /> <blockquote> <p><strong>End –Cheng Gu</strong></p> </blockquote> <hr> <div class="row"> <div class="col-md-6"> <h5 style="display: inline;">Tags:</h5> <button class="btn btn-white btn-xs" type="button">Unity</button> <button class="btn btn-white btn-xs" type="button">Csharp</button> <button class="btn btn-white btn-xs" type="button">Math</button> <button class="btn btn-white btn-xs" type="button">CG</button> </div> <div class="col-md-6"> <div class="small text-right"> <div> </div> </div> </div> </div> <br> <div class="row"> <div class="col-lg-12"> <!-- donate --> <br> <!-- share --> <div class="a2a_kit a2a_kit_size_32 a2a_default_style"> <a class="a2a_dd" href="https://www.addtoany.com/share"></a> <a class="a2a_button_facebook"></a> <a class="a2a_button_twitter"></a> <a class="a2a_button_google_plus"></a> <a class="a2a_button_linkedin"></a> <a class="a2a_button_email"></a> <a class="a2a_button_wechat"></a> <a class="a2a_button_sina_weibo"></a> <a class="a2a_button_pocket"></a> </div> <script> var a2a_config = a2a_config || {}; a2a_config.color_main = "D7E5ED"; a2a_config.color_border = "AECADB"; a2a_config.color_link_text = "333333"; a2a_config.color_link_text_hover = "333333"; </script> <script async src="https://static.addtoany.com/menu/page.js"></script> <br> <!-- comment --> </div> </div> </div> </div> </div> </div> </div> <!-- Google analytics --> <!-- GrowingIO --> </body> </html>

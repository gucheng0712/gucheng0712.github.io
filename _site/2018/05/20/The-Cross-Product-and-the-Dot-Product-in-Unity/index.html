<!DOCTYPE html> <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="stylesheet" type="text/css" href="/assets/css/materialize.css"> <link rel="stylesheet" type="text/css" href="/assets/main.css"> <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"> <link rel="stylesheet" href="https://cdn.rawgit.com/konpa/devicon/df6431e323547add1b4cf45992913f15286456d3/devicon.min.css"> <title>Suzuka Site</title> </head> <body> <div class="container"> <div class="col s10"> <div class="row" style="padding:10px;"> <a id="home" class="waves-effect waves-light btn white-text darken-2 grey z-depth-4" href="/#blog"><i class="material-icons">arrow_back</i></a> </div> <h3 class="post-title" itemprop="name headline" style="text-align:center">Cross Or Dot</h3> <p class="post-meta"> <time datetime="2018-05-20T07:15:05-07:00" itemprop="datePublished"> May 20, 2018 </time> </p> <div class="post-content" itemprop="articleBody"> <p>The Cross Product and the Dot Product are the most common calculations of Vector. In the Game Development, it is necessary to understand both of them. The biggest difference between them is that:</p> <ol> <li>The result of dot product is a <strong>value</strong></li> <li>The result of cross product is a <strong>vector</strong></li> </ol> <hr/> <h4 id="1-dot-product">1. Dot Product</h4> <p class="center"><img src="/assets/images/PostImages/Dot.jpg" alt="dot" height="50%" width="50%"/></p> <p>The position relation of two vectors can be determined by the sign of the dot product of these two vector.</p> <ol> <li>If the dot product = 0, these two vectors are perpendicular. Two Vector point mostly same direction.</li> <li>If the dot product &lt;0, the angle between two Vector is 90 ~ 180. Two Vector perpendicular.</li> <li>If the dot product &gt;0, the angle between two Vector is 0 ~ 90. Two Vector point mostly opposite direction.</li> </ol> <p><strong><em>Example in Game Development:</em></strong></p> <p>(1) Get the Angle of two vectors: range [0, 180], whether the view of the game monster can be viewed to the player, and can be used to calculate whether the enemy is within the range of the character’s attack.</p> <figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"> 
<span class="n">Vector</span> <span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">dotValue</span> <span class="p">=</span> <span class="n">Vector3</span><span class="p">.</span><span class="nf">Dot</span> <span class="p">(</span><span class="n">A</span><span class="p">.</span><span class="n">normalized</span><span class="p">,</span> <span class="n">B</span><span class="p">.</span><span class="n">normalized</span><span class="p">);</span>
<span class="kt">float</span> <span class="n">angle</span> <span class="p">=</span> <span class="n">Mathf</span><span class="p">.</span><span class="nf">Acos</span><span class="p">(</span><span class="n">dotValue</span><span class="p">)</span> <span class="p">*</span> <span class="n">Mathf</span><span class="p">.</span><span class="n">Rad2Deg</span><span class="p">;</span>  
<span class="c1">//However. there is a easier way to do it in unity by using Vector.Angle().</span>
<span class="c1">//float angle= Vector3.Angle (Vector3 from, Vector3 to) </span></code></pre></figure> <p>(2) Determine if the target is in front of you, or behind you.</p> <figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"> 
<span class="kt">float</span> <span class="n">dotValue</span><span class="p">=</span><span class="n">Vector3</span><span class="p">.</span><span class="nf">Dot</span><span class="p">(</span><span class="n">transform</span><span class="p">.</span><span class="n">forward</span><span class="p">,</span> <span class="n">target</span><span class="p">.</span><span class="n">position</span><span class="p">)</span>
<span class="k">if</span><span class="p">(</span><span class="n">dotValue</span><span class="p">&gt;</span><span class="m">0</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"Target is in front of you"</span><span class="p">);</span>
<span class="p">}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">dotValue</span><span class="p">&lt;</span><span class="m">0</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"Target is behind you"</span><span class="p">);</span>
<span class="p">}</span><span class="k">else</span><span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"Target is on the left or right."</span><span class="p">);</span>
<span class="p">}</span></code></pre></figure> <p>(3) Simulate the flight status of the aircraft</p> <figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"> 
<span class="kt">float</span> <span class="n">dotValue</span> <span class="p">=</span> <span class="n">Vector3</span><span class="p">.</span><span class="nf">Dot</span><span class="p">(</span><span class="n">transform</span><span class="p">.</span><span class="n">forward</span><span class="p">,</span> <span class="n">Vector3</span><span class="p">.</span><span class="n">up</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">dotValue</span> <span class="p">&lt;</span> <span class="m">0</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"This plane is flying down"</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">dotValue</span> <span class="p">&gt;</span> <span class="m">0</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"This plane is flying up"</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"This plane is flying in parallel "</span><span class="p">);</span>
<span class="p">}</span></code></pre></figure> <hr/> <h4 id="2-cross-product">2. Cross Product</h4> <p class="center"><img src="/assets/images/PostImages/Cross.jpg" alt="dot" height="70%" width="70%"/></p> <p>The cross product of two vectors, the result of the cross product is a vector instead of a value. Also, the cross product of two vectors is <strong><em>perpendicular</em></strong> to the coordinate plane of these two vectors.</p> <blockquote> <p>In Math, it satisfy right hand rule, a x b = -b x a. So we can use the result of Cross product’s value is positive or negative to determine a and b’s relative position.</p> </blockquote> <p><strong><em>Right-hand Cooridinate System</em></strong></p> <p><img src="/assets/images/PostImages/right-hand.jpg" alt="dot" height="20%" width="20%"/></p> <p><strong><em>Left-hand Cooridinate System</em></strong></p> <p><img src="/assets/images/PostImages/left-hand.jpg" alt="dot" height="20%" width="20%"/></p> <p>Normal vector of a plane is calculated from the Cross Product of the coordinate plane of x and y vectors.</p> <p><img src="/assets/images/PostImages/Cross2.jpg" alt="dot" height="20%" width="20%"/></p> <p><strong><em>Example in Game Development:</em></strong></p> <p>(1) WallWalking &gt; The core is to use cross product cauculate the normal of wall’s plane, and ground plane’s normal to implement into player’s Up direction (2) Determine the target is on your right or left: &gt; if return a negative value, the target is on the left, if return a positive value, the target is on the right, if return 0, the the target is on the front side or back side</p> <figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"> 
<span class="n">Vector3</span><span class="p">.</span><span class="nf">Cross</span><span class="p">(</span><span class="n">transform</span><span class="p">.</span><span class="n">forward</span><span class="p">,</span> <span class="n">target</span><span class="p">.</span><span class="n">position</span><span class="p">).</span><span class="n">y</span></code></pre></figure> <p>(3) Get the area size of a parallelogram which formed by 2 objects</p> <blockquote> <p><code class="highlighter-rouge">S = |b| * |a| * sin(θ)</code></p> </blockquote> <p>(4) Get the angle between two vectors</p> <figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"> 
<span class="n">Vector3</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">;</span>
<span class="kt">float</span> <span class="k">value</span> <span class="p">=</span> <span class="n">Vector3</span><span class="p">.</span><span class="nf">Cross</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">normalized</span><span class="p">,</span> <span class="n">b</span><span class="p">.</span><span class="n">normalized</span><span class="p">);</span>
<span class="kt">float</span> <span class="n">angle</span> <span class="p">=</span> <span class="n">Mathf</span><span class="p">.</span><span class="nf">Asin</span><span class="p">(</span><span class="k">value</span><span class="p">)</span> <span class="p">*</span> <span class="n">Mathf</span><span class="p">.</span><span class="n">Rad2Deg</span><span class="p">;</span></code></pre></figure> <p>(5) Can Determine if two vector is <strong>Parallel</strong> or <strong>Intersecting</strong>.</p> <hr/> <p>In conclusion, <strong><em>Dot Product</em></strong> determine the angle of two Vectors, <strong><em>Cross Product</em></strong> determine the direction of two Vectors.</p> <p>For instance, when an enemy behind you, <strong><em>Cross Product</em></strong> determine whether you should turn left or turn right to face to the enemy quickly; the <strong><em>Dot Product</em></strong> can get the angle size you need to turn towards the enemy.</p> <blockquote> <p><strong>End –Cheng Gu</strong></p> </blockquote> </div> </div> </div> <script type="text/javascript" src="/assets/js/jquery-3.2.1.min.js"></script> <script type="text/javascript" src="/assets/js/materialize.min.js"></script> <script src="/assets/js/init.js"></script> </body> <footer class="page-footer"> <div class="footer-copyright" style="padding-left: 30px"> <i class="material-icons" style="padding-right:5px">copyright</i> <p>2018 Copyright Cheng Gu</p> </div> </footer> </html>
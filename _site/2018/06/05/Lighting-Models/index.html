<!DOCTYPE html> <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="stylesheet" type="text/css" href="/assets/css/materialize.css"> <link rel="stylesheet" type="text/css" href="/assets/main.css"> <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"> <link rel="stylesheet" href="https://cdn.rawgit.com/konpa/devicon/df6431e323547add1b4cf45992913f15286456d3/devicon.min.css"> <title>Suzuka Site</title> </head> <body> <div class="container"> <div class="col s10"> <div class="row" style="padding:10px;"> <a id="home" class="waves-effect waves-light btn white-text darken-2 grey z-depth-4" href="/#blog"><i class="material-icons">arrow_back</i></a> </div> <h3 class="post-title" itemprop="name headline" style="text-align:center">Common Lighting Models</h3> <p class="post-meta"> <time datetime="2018-06-05T07:15:05-07:00" itemprop="datePublished"> Jun 5, 2018 </time> </p> <div class="post-content" itemprop="articleBody"> <p>In this post, I focus on reviewing the Lighting Models I learned these days which are <strong><em>Diffuse(Lambert)</em></strong>, <strong><em>Half-Lambert</em></strong>, <strong><em>Specular</em></strong>, and <strong><em>Blinn-Phong</em></strong>.</p> <hr/> <h4 id="1-diffuselambert">1. Diffuse(Lambert)</h4> <p><img src="/assets/images/PostImages/lambert.png" alt="dot" height="50%" width="50%"/> <img src="/assets/images/PostImages/Lambert rule.png" alt="dot" height="40%" width="40%"/></p> <blockquote> <ul> <li>M_diff：material color.</li> <li>S_diff：light source color.</li> <li>n · l：the radius of the angle between normal and light direction by using dot product to calculate.</li> </ul> </blockquote> <p>(1) Diffuse Per-Vertex-Level (Low Cost, but less accurate)</p> <figure class="highlight"><pre><code class="language-cg" data-lang="cg">Shader "MyShader/Diffuse Vertex-Level" {
	Properties {
		_Diffuse ("Diffuse", Color) = (1, 1, 1, 1)
	}
	SubShader {
		Pass { 
			Tags { "LightMode"="ForwardBase" }
		
			CGPROGRAM
			
			#pragma vertex vert
			#pragma fragment frag
			
			#include "Lighting.cginc"
			
			fixed4 _Diffuse;
			
			struct a2v {
				float4 vertex : POSITION;
				float3 normal : NORMAL;
			};
			
			struct v2f {
				float4 pos : SV_POSITION;
				fixed3 color : COLOR;
			};
			
			v2f vert(a2v v) {
				v2f o;
				// Transform the vertex from object space to projection space
				o.pos = mul(UNITY_MATRIX_MVP, v.vertex);
				
				// Get ambient term
				fixed3 ambient = UNITY_LIGHTMODEL_AMBIENT.xyz;
				
				// Transform the normal from object space to world space
				fixed3 worldNormal = normalize(mul(v.normal, (float3x3)_World2Object));
				// Get the light direction in world space
				fixed3 worldLight = normalize(_WorldSpaceLightPos0.xyz);
				// Compute diffuse term
				fixed3 diffuse = _LightColor0.rgb * _Diffuse.rgb * saturate(dot(worldNormal, worldLight));
				
				o.color = ambient + diffuse;
				
				return o;
			}
			
			fixed4 frag(v2f i) : SV_Target {
				return fixed4(i.color, 1.0);
			}
			
			ENDCG
		}
	}
	FallBack "Diffuse"
}</code></pre></figure> <p>(2) Diffuse Per-Pixel-Level (higher Cost, but more accurate)</p> <figure class="highlight"><pre><code class="language-cg" data-lang="cg">Shader "MyShader/Diffuse Pixel-Level" {
	Properties {
		_Diffuse ("Diffuse", Color) = (1, 1, 1, 1)
	}
	SubShader {
		Pass { 
			Tags { "LightMode"="ForwardBase" }
		
			CGPROGRAM
			
			#pragma vertex vert
			#pragma fragment frag
			
			#include "Lighting.cginc"
			
			fixed4 _Diffuse;
			
			struct a2v {
				float4 vertex : POSITION;
				float3 normal : NORMAL;
			};
			
			struct v2f {
				float4 pos : SV_POSITION;
				float3 worldNormal : TEXCOORD0;
			};
			
			v2f vert(a2v v) {
				v2f o;
				// Transform the vertex from object space to projection space
				o.pos = mul(UNITY_MATRIX_MVP, v.vertex);

				// Transform the normal from object space to world space
				o.worldNormal = mul(v.normal, (float3x3)_World2Object);

				return o;
			}
			
			fixed4 frag(v2f i) : SV_Target {
				// Get ambient term
				fixed3 ambient = UNITY_LIGHTMODEL_AMBIENT.xyz;
				
				// Get the normal in world space
				fixed3 worldNormal = normalize(i.worldNormal);
				// Get the light direction in world space
				fixed3 worldLightDir = normalize(_WorldSpaceLightPos0.xyz);
				
				// Compute diffuse term
				fixed3 diffuse = _LightColor0.rgb * _Diffuse.rgb * saturate(dot(worldNormal, worldLightDir));
				
				fixed3 color = ambient + diffuse;
				
				return fixed4(color, 1.0);
			}
			
			ENDCG
		}
	} 
	FallBack "Diffuse"
}</code></pre></figure> <hr/> <h4 id="2-half-lambert">2. Half Lambert</h4> <p><img src="/assets/images/PostImages/half_lambert.png" alt="dot" height="70%" width="70%"/></p> <figure class="highlight"><pre><code class="language-cg" data-lang="cg">Shader "MyShader/Half Lambert-Pixel-Level" {
	Properties {
		_Diffuse ("Diffuse", Color) = (1, 1, 1, 1)
	}
	SubShader {
		Pass { 
			Tags { "LightMode"="ForwardBase" }
		
			CGPROGRAM
			
			#pragma vertex vert
			#pragma fragment frag
			
			#include "Lighting.cginc"
			
			fixed4 _Diffuse;
			
			struct a2v {
				float4 vertex : POSITION;
				float3 normal : NORMAL;
			};
			
			struct v2f {
				float4 pos : SV_POSITION;
				float3 worldNormal : TEXCOORD0;
			};
			
			v2f vert(a2v v) {
				v2f o;
				// Transform the vertex from object space to projection space
				o.pos = mul(UNITY_MATRIX_MVP, v.vertex);
				
				// Transform the normal from object space to world space
				o.worldNormal = mul(v.normal, (float3x3)_World2Object);
				
				return o;
			}
			
			fixed4 frag(v2f i) : SV_Target {
				// Get ambient term
				fixed3 ambient = UNITY_LIGHTMODEL_AMBIENT.xyz;
				
				// Get the normal in world space
				fixed3 worldNormal = normalize(i.worldNormal);
				// Get the light direction in world space
				fixed3 worldLightDir = normalize(_WorldSpaceLightPos0.xyz);
				
				// Compute diffuse term
				fixed halfLambert = dot(worldNormal, worldLightDir) * 0.5 + 0.5;
				fixed3 diffuse = _LightColor0.rgb * _Diffuse.rgb * halfLambert;
				
				fixed3 color = ambient + diffuse;
				
				return fixed4(color, 1.0);
			}
			
			ENDCG
		}
	} 
	FallBack "Diffuse"
}</code></pre></figure> <hr/> <h4 id="3-specularphong">3. Specular(Phong)</h4> <p><img src="/assets/images/PostImages/Specular.png" alt="dot" height="50%" width="50%"/> <img src="/assets/images/PostImages/Specular_rule.png" alt="dot" height="40%" width="40%"/></p> <blockquote> <ul> <li>M_spec：material color.</li> <li>S_spec：light source color.</li> <li>v · r: the radius of the angle between view direction and the reflection direction of the light direction and normal.</li> </ul> </blockquote> <p>In Specular lighting model, shouldn’t use per-vertex-level because it is not accurate with less vertex area.</p> <figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="n">Shader</span> <span class="s">"MyShader/Specular"</span> <span class="p">{</span>
	<span class="n">Properties</span> <span class="p">{</span>
		<span class="nf">_Diffuse</span> <span class="p">(</span><span class="s">"Diffuse"</span><span class="p">,</span> <span class="n">Color</span><span class="p">)</span> <span class="p">=</span> <span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">)</span>
		<span class="nf">_Specular</span> <span class="p">(</span><span class="s">"Specular"</span><span class="p">,</span> <span class="n">Color</span><span class="p">)</span> <span class="p">=</span> <span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">)</span>
		<span class="nf">_Gloss</span> <span class="p">(</span><span class="s">"Gloss"</span><span class="p">,</span> <span class="nf">Range</span><span class="p">(</span><span class="m">8.0</span><span class="p">,</span> <span class="m">256</span><span class="p">))</span> <span class="p">=</span> <span class="m">20</span>
	<span class="p">}</span>
	<span class="n">SubShader</span> <span class="p">{</span>
		<span class="n">Pass</span> <span class="p">{</span> 
			<span class="n">Tags</span> <span class="p">{</span> <span class="s">"LightMode"</span><span class="p">=</span><span class="s">"ForwardBase"</span> <span class="p">}</span>
		
			<span class="n">CGPROGRAM</span>
			
			<span class="err">#</span><span class="n">pragma</span> <span class="n">vertex</span> <span class="n">vert</span>
			<span class="err">#</span><span class="n">pragma</span> <span class="n">fragment</span> <span class="n">frag</span>

			<span class="err">#</span><span class="n">include</span> <span class="s">"Lighting.cginc"</span>
			
			<span class="n">fixed4</span> <span class="n">_Diffuse</span><span class="p">;</span>
			<span class="n">fixed4</span> <span class="n">_Specular</span><span class="p">;</span>
			<span class="kt">float</span> <span class="n">_Gloss</span><span class="p">;</span>
			
			<span class="k">struct</span> <span class="nc">a2v</span> <span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="p">:</span> <span class="n">POSITION</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">normal</span> <span class="p">:</span> <span class="n">NORMAL</span><span class="p">;</span>
			<span class="p">};</span>
			
			<span class="k">struct</span> <span class="nc">v2f</span> <span class="p">{</span>
				<span class="n">float4</span> <span class="n">pos</span> <span class="p">:</span> <span class="n">SV_POSITION</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">worldNormal</span> <span class="p">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">worldPos</span> <span class="p">:</span> <span class="n">TEXCOORD1</span><span class="p">;</span>
			<span class="p">};</span>
			
			<span class="n">v2f</span> <span class="nf">vert</span><span class="p">(</span><span class="n">a2v</span> <span class="n">v</span><span class="p">)</span> <span class="p">{</span>
				<span class="n">v2f</span> <span class="n">o</span><span class="p">;</span>
				<span class="c1">// Transform the vertex from object space to projection space</span>
				<span class="n">o</span><span class="p">.</span><span class="n">pos</span> <span class="p">=</span> <span class="nf">mul</span><span class="p">(</span><span class="n">UNITY_MATRIX_MVP</span><span class="p">,</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">);</span>
				
				<span class="c1">// Transform the normal from object space to world space</span>
				<span class="n">o</span><span class="p">.</span><span class="n">worldNormal</span> <span class="p">=</span> <span class="nf">mul</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">normal</span><span class="p">,</span> <span class="p">(</span><span class="n">float3x3</span><span class="p">)</span><span class="n">_World2Object</span><span class="p">);</span>
				<span class="c1">// Transform the vertex from object spacet to world space</span>
				<span class="n">o</span><span class="p">.</span><span class="n">worldPos</span> <span class="p">=</span> <span class="nf">mul</span><span class="p">(</span><span class="n">_Object2World</span><span class="p">,</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">).</span><span class="n">xyz</span><span class="p">;</span>
				
				<span class="k">return</span> <span class="n">o</span><span class="p">;</span>
			<span class="p">}</span>
			
			<span class="n">fixed4</span> <span class="nf">frag</span><span class="p">(</span><span class="n">v2f</span> <span class="n">i</span><span class="p">)</span> <span class="p">:</span> <span class="n">SV_Target</span> <span class="p">{</span>
				<span class="c1">// Get ambient term</span>
				<span class="n">fixed3</span> <span class="n">ambient</span> <span class="p">=</span> <span class="n">UNITY_LIGHTMODEL_AMBIENT</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				
				<span class="n">fixed3</span> <span class="n">worldNormal</span> <span class="p">=</span> <span class="nf">normalize</span><span class="p">(</span><span class="n">i</span><span class="p">.</span><span class="n">worldNormal</span><span class="p">);</span>
				<span class="n">fixed3</span> <span class="n">worldLightDir</span> <span class="p">=</span> <span class="nf">normalize</span><span class="p">(</span><span class="n">_WorldSpaceLightPos0</span><span class="p">.</span><span class="n">xyz</span><span class="p">);</span>
				
				<span class="c1">// Compute diffuse term</span>
				<span class="n">fixed3</span> <span class="n">diffuse</span> <span class="p">=</span> <span class="n">_LightColor0</span><span class="p">.</span><span class="n">rgb</span> <span class="p">*</span> <span class="n">_Diffuse</span><span class="p">.</span><span class="n">rgb</span> <span class="p">*</span> <span class="nf">saturate</span><span class="p">(</span><span class="nf">dot</span><span class="p">(</span><span class="n">worldNormal</span><span class="p">,</span> <span class="n">worldLightDir</span><span class="p">));</span>
				
				<span class="c1">// Get the reflect direction in world space</span>
				<span class="n">fixed3</span> <span class="n">reflectDir</span> <span class="p">=</span> <span class="nf">normalize</span><span class="p">(</span><span class="nf">reflect</span><span class="p">(-</span><span class="n">worldLightDir</span><span class="p">,</span> <span class="n">worldNormal</span><span class="p">));</span>
				<span class="c1">// Get the view direction in world space</span>
				<span class="n">fixed3</span> <span class="n">viewDir</span> <span class="p">=</span> <span class="nf">normalize</span><span class="p">(</span><span class="n">_WorldSpaceCameraPos</span><span class="p">.</span><span class="n">xyz</span> <span class="p">-</span> <span class="n">i</span><span class="p">.</span><span class="n">worldPos</span><span class="p">.</span><span class="n">xyz</span><span class="p">);</span>
				<span class="c1">// Compute specular term</span>
				<span class="n">fixed3</span> <span class="n">specular</span> <span class="p">=</span> <span class="n">_LightColor0</span><span class="p">.</span><span class="n">rgb</span> <span class="p">*</span> <span class="n">_Specular</span><span class="p">.</span><span class="n">rgb</span> <span class="p">*</span> <span class="nf">pow</span><span class="p">(</span><span class="nf">saturate</span><span class="p">(</span><span class="nf">dot</span><span class="p">(</span><span class="n">reflectDir</span><span class="p">,</span> <span class="n">viewDir</span><span class="p">)),</span> <span class="n">_Gloss</span><span class="p">);</span>
				
				<span class="k">return</span> <span class="nf">fixed4</span><span class="p">(</span><span class="n">ambient</span> <span class="p">+</span> <span class="n">diffuse</span> <span class="p">+</span> <span class="n">specular</span><span class="p">,</span> <span class="m">1.0</span><span class="p">);</span>
			<span class="p">}</span>
			
			<span class="n">ENDCG</span>
		<span class="p">}</span>
	<span class="p">}</span> 
	<span class="n">FallBack</span> <span class="s">"Specular"</span>
<span class="p">}</span> </code></pre></figure> <hr/> <h4 id="4-blinn-phong">4. Blinn-Phong</h4> <p><img src="/assets/images/PostImages/blinn-phong.png" alt="dot" height="50%" width="50%"/> <img src="/assets/images/PostImages/blinn-rule.png" alt="dot" height="40%" width="40%"/></p> <blockquote> <ul> <li>h(halfway): h is the middle vector between view direction and light direction (just like the axis of symmetry).</li> </ul> </blockquote> <figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="n">Shader</span> <span class="s">"MyShader/Blinn-Phong"</span> <span class="p">{</span>
	<span class="n">Properties</span> <span class="p">{</span>
		<span class="nf">_Diffuse</span> <span class="p">(</span><span class="s">"Diffuse"</span><span class="p">,</span> <span class="n">Color</span><span class="p">)</span> <span class="p">=</span> <span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">)</span>
		<span class="nf">_Specular</span> <span class="p">(</span><span class="s">"Specular"</span><span class="p">,</span> <span class="n">Color</span><span class="p">)</span> <span class="p">=</span> <span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">)</span>
		<span class="nf">_Gloss</span> <span class="p">(</span><span class="s">"Gloss"</span><span class="p">,</span> <span class="nf">Range</span><span class="p">(</span><span class="m">8.0</span><span class="p">,</span> <span class="m">256</span><span class="p">))</span> <span class="p">=</span> <span class="m">20</span>
	<span class="p">}</span>
	<span class="n">SubShader</span> <span class="p">{</span>
		<span class="n">Pass</span> <span class="p">{</span> 
			<span class="n">Tags</span> <span class="p">{</span> <span class="s">"LightMode"</span><span class="p">=</span><span class="s">"ForwardBase"</span> <span class="p">}</span>
		
			<span class="n">CGPROGRAM</span>
			
			<span class="err">#</span><span class="n">pragma</span> <span class="n">vertex</span> <span class="n">vert</span>
			<span class="err">#</span><span class="n">pragma</span> <span class="n">fragment</span> <span class="n">frag</span>
			
			<span class="err">#</span><span class="n">include</span> <span class="s">"Lighting.cginc"</span>
			
			<span class="n">fixed4</span> <span class="n">_Diffuse</span><span class="p">;</span>
			<span class="n">fixed4</span> <span class="n">_Specular</span><span class="p">;</span>
			<span class="kt">float</span> <span class="n">_Gloss</span><span class="p">;</span>
			
			<span class="k">struct</span> <span class="nc">a2v</span> <span class="p">{</span>
				<span class="n">float4</span> <span class="n">vertex</span> <span class="p">:</span> <span class="n">POSITION</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">normal</span> <span class="p">:</span> <span class="n">NORMAL</span><span class="p">;</span>
			<span class="p">};</span>
			
			<span class="k">struct</span> <span class="nc">v2f</span> <span class="p">{</span>
				<span class="n">float4</span> <span class="n">pos</span> <span class="p">:</span> <span class="n">SV_POSITION</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">worldNormal</span> <span class="p">:</span> <span class="n">TEXCOORD0</span><span class="p">;</span>
				<span class="n">float3</span> <span class="n">worldPos</span> <span class="p">:</span> <span class="n">TEXCOORD1</span><span class="p">;</span>
			<span class="p">};</span>
			
			<span class="n">v2f</span> <span class="nf">vert</span><span class="p">(</span><span class="n">a2v</span> <span class="n">v</span><span class="p">)</span> <span class="p">{</span>
				<span class="n">v2f</span> <span class="n">o</span><span class="p">;</span>
				<span class="c1">// Transform the vertex from object space to projection space</span>
				<span class="n">o</span><span class="p">.</span><span class="n">pos</span> <span class="p">=</span> <span class="nf">mul</span><span class="p">(</span><span class="n">UNITY_MATRIX_MVP</span><span class="p">,</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">);</span>
				
				<span class="c1">// Transform the normal from object space to world space</span>
				<span class="n">o</span><span class="p">.</span><span class="n">worldNormal</span> <span class="p">=</span> <span class="nf">mul</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">normal</span><span class="p">,</span> <span class="p">(</span><span class="n">float3x3</span><span class="p">)</span><span class="n">_World2Object</span><span class="p">);</span>
				
				<span class="c1">// Transform the vertex from object spacet to world space</span>
				<span class="n">o</span><span class="p">.</span><span class="n">worldPos</span> <span class="p">=</span> <span class="nf">mul</span><span class="p">(</span><span class="n">_Object2World</span><span class="p">,</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">).</span><span class="n">xyz</span><span class="p">;</span>
				
				<span class="k">return</span> <span class="n">o</span><span class="p">;</span>
			<span class="p">}</span>
			
			<span class="n">fixed4</span> <span class="nf">frag</span><span class="p">(</span><span class="n">v2f</span> <span class="n">i</span><span class="p">)</span> <span class="p">:</span> <span class="n">SV_Target</span> <span class="p">{</span>
				<span class="c1">// Get ambient term</span>
				<span class="n">fixed3</span> <span class="n">ambient</span> <span class="p">=</span> <span class="n">UNITY_LIGHTMODEL_AMBIENT</span><span class="p">.</span><span class="n">xyz</span><span class="p">;</span>
				
				<span class="n">fixed3</span> <span class="n">worldNormal</span> <span class="p">=</span> <span class="nf">normalize</span><span class="p">(</span><span class="n">i</span><span class="p">.</span><span class="n">worldNormal</span><span class="p">);</span>
				<span class="n">fixed3</span> <span class="n">worldLightDir</span> <span class="p">=</span> <span class="nf">normalize</span><span class="p">(</span><span class="n">_WorldSpaceLightPos0</span><span class="p">.</span><span class="n">xyz</span><span class="p">);</span>
				
				<span class="c1">// Compute diffuse term</span>
				<span class="n">fixed3</span> <span class="n">diffuse</span> <span class="p">=</span> <span class="n">_LightColor0</span><span class="p">.</span><span class="n">rgb</span> <span class="p">*</span> <span class="n">_Diffuse</span><span class="p">.</span><span class="n">rgb</span> <span class="p">*</span> <span class="nf">max</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="nf">dot</span><span class="p">(</span><span class="n">worldNormal</span><span class="p">,</span> <span class="n">worldLightDir</span><span class="p">));</span>
				
				<span class="c1">// Get the view direction in world space</span>
				<span class="n">fixed3</span> <span class="n">viewDir</span> <span class="p">=</span> <span class="nf">normalize</span><span class="p">(</span><span class="n">_WorldSpaceCameraPos</span><span class="p">.</span><span class="n">xyz</span> <span class="p">-</span> <span class="n">i</span><span class="p">.</span><span class="n">worldPos</span><span class="p">.</span><span class="n">xyz</span><span class="p">);</span>
				<span class="c1">// Get the half direction in world space</span>
				<span class="n">fixed3</span> <span class="n">halfDir</span> <span class="p">=</span> <span class="nf">normalize</span><span class="p">(</span><span class="n">worldLightDir</span> <span class="p">+</span> <span class="n">viewDir</span><span class="p">);</span>
				<span class="c1">// Compute specular term</span>
				<span class="n">fixed3</span> <span class="n">specular</span> <span class="p">=</span> <span class="n">_LightColor0</span><span class="p">.</span><span class="n">rgb</span> <span class="p">*</span> <span class="n">_Specular</span><span class="p">.</span><span class="n">rgb</span> <span class="p">*</span> <span class="nf">pow</span><span class="p">(</span><span class="nf">max</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="nf">dot</span><span class="p">(</span><span class="n">worldNormal</span><span class="p">,</span> <span class="n">halfDir</span><span class="p">)),</span> <span class="n">_Gloss</span><span class="p">);</span>
				
				<span class="k">return</span> <span class="nf">fixed4</span><span class="p">(</span><span class="n">ambient</span> <span class="p">+</span> <span class="n">diffuse</span> <span class="p">+</span> <span class="n">specular</span><span class="p">,</span> <span class="m">1.0</span><span class="p">);</span>
			<span class="p">}</span>
			
			<span class="n">ENDCG</span>
		<span class="p">}</span>
	<span class="p">}</span> 
	<span class="n">FallBack</span> <span class="s">"Specular"</span>
<span class="p">}</span> </code></pre></figure> <hr/> <blockquote> <p><strong>End –Cheng Gu</strong></p> </blockquote> </div> </div> </div> <script type="text/javascript" src="/assets/js/jquery-3.2.1.min.js"></script> <script type="text/javascript" src="/assets/js/materialize.min.js"></script> <script src="/assets/js/init.js"></script> </body> <footer class="page-footer"> <div class="footer-copyright" style="padding-left: 30px"> <i class="material-icons" style="padding-right:5px">copyright</i> <p>2018 Copyright Cheng Gu</p> </div> </footer> </html>